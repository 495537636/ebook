<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunshine.ebook.mapper.UserMapper">

	<!-- type为实体类Student，包名已经配置，可以直接写类名 -->
	<resultMap id="userResultMap" type="com.sunshine.ebook.entity.Userinfo">
		<id property="userid" column="userid" />
		<result column="username" property="username" jdbcType="VARCHAR" />
		<result column="password" property="password" jdbcType="VARCHAR" />
		<result column="phonenum" property="phonenum" jdbcType="INTEGER" />
		<result column="email" property="email" jdbcType="VARCHAR" />
		<result column="userflag" property="userflag" jdbcType="INTEGER" />
		<result column="usertype" property="usertype" jdbcType="INTEGER" />
		<result column="checkcode" property="checkcode" jdbcType="VARCHAR" />
		<result column="createtime" property="createtime" jdbcType="TIMESTAMP" />
		<result column="updatetime" property="updatetime" jdbcType="TIMESTAMP" />
		<result column="lastlogtime" property="lastlogtime" jdbcType="TIMESTAMP" />
	</resultMap>

	<!-- 根据邮箱校验是否已注册 -->
	<select id="checkEmailIsRegist" parameterType="string" resultType="int">
		select count(0) from userinfo where email = #{email} and userflag != -1
	</select>
	
	<!-- 注册用户 -->
	

</mapper> 